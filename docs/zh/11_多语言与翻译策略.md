# 多语言支持与翻译策略（中英为主）

## 总体目标

- 平台 **全站多语言**（至少中英文），支持用户随时切换语言
- **默认英文开发**：代码、变量、接口、数据库字段、提交信息都使用英文命名
- 内容（帖子）支持：
  - 用户用中文或英文投稿
  - 平台可提供 **AI 自动翻译**（中↔英）
  - 翻译内容进入审核/复核（避免误译造成误导）

## 语言与本地化（I18n）范围

### 1) UI 文案（必须支持）

- 导航、按钮、表单、错误提示、审核状态等全部可翻译
- 默认语言：English（`en`）
- 支持语言：English（`en`）、简体中文（`zh`）

### 2) 内容（帖子）语言（必须支持）

每篇帖子至少有一个“源语言版本”，可选有多个翻译版本：

- 源语言：`source_lang`（en/zh）
- 内容版本：按语言存储 `title/content`
- 展示时：
  - 若用户语言存在对应版本 → 展示该版本
  - 若不存在 → 展示源语言，并提示“可用 AI 翻译/请求翻译”

## 数据结构建议（保持简单）

### 最简方案（推荐先做）

- `posts`：只存“源语言版本”
  - `id, city, section, status, source_lang, title, content, created_at, updated_at`
- `post_translations`：存翻译版本（中↔英）
  - `id, post_id, lang, title, content, provider, quality_status, created_at, updated_at`
  - `quality_status`：`ai_draft` / `human_reviewed` / `rejected`

## AI 自动翻译（帖子翻译）工作流

### 触发方式（MVP 可选其中一种）

- 作者投稿后点击“生成英文/中文版本”（最可控）
- 管理员在审核队列里一键生成翻译（更适合早期）
- 内容发布后按需生成（节省成本）

### 建议流程（安全优先）

1. 生成翻译 → 写入 `post_translations`，标记 `ai_draft`
2. 若内容属于高风险板块（找房与入住/安全与诈骗）→ 强制进入人工复核队列
3. 通过复核后标记 `human_reviewed`，才作为默认展示的翻译版本

### 翻译质量策略（避免误导）

- 不允许翻译“编造细节”
- 保留专有名词（学校部门名、app 名、法条/机构名等）并可括注原文
- 数字、时间、金额必须严格一致
- 对“可能误译的术语”加提示（例如 lease/sublease、deposit、co-signer）

## 系统提示词（翻译用）

> 每个提示词都放在单独文本框，便于复制。

### A) 帖子翻译（中↔英）系统提示词

```text
你是 Bridge US 平台的“内容翻译助手”。你的任务是把用户帖子在中文与英文之间准确翻译，确保信息不失真、不添加、不推测。

【硬性规则】
1) 只能翻译已给文本，不得补充新的事实、地点、价格、时间、联系方式。
2) 金额、数字、时间、地址（如出现）必须逐字符一致；如原文含模糊表达，也保持模糊。
3) 保留专有名词（学校部门/地名/app 名/机构名），必要时在括号中保留原文。
4) 保持语气与结构：标题像标题，清单像清单，步骤像步骤。
5) 对可能误译的关键术语，允许在括号内补充极短解释（不超过 12 个英文词或 12 个中文字符）。

【输入】
- source_lang: "en" 或 "zh"
- target_lang: "en" 或 "zh"
- title: ...
- content: ...

【输出格式（JSON，必须）】
{
  "title": "...",
  "content": "...",
  "notes": ["...可选：术语提示/潜在歧义点..."]
}
```


